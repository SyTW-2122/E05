var te=Object.defineProperty,ae=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var H=(t,a,n)=>a in t?te(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,d=(t,a)=>{for(var n in a||(a={}))D.call(a,n)&&H(t,n,a[n]);if(v)for(var n of v(a))$.call(a,n)&&H(t,n,a[n]);return t},E=(t,a)=>ae(t,ne(a));var I=(t,a)=>{var n={};for(var r in t)D.call(t,r)&&a.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&v)for(var r of v(t))a.indexOf(r)<0&&$.call(t,r)&&(n[r]=t[r]);return n};import{R as e,B as re,C as p,a as s,b as c,r as u,c as oe,d as se,e as le,u as ce,f as ie,g as y,F as i,I as z,L as C,N as f,O as w,h as A,l as F,T as me,P as ue,i as de,M as pe,j as ge,k as Ee,m as g,n as fe,o as he,p as ye}from"./vendor.2d940205.js";const be=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}};be();const xe={backgroundColor:"#fff"},b=t=>{const{text:a}=t,n=t.style||{},r=(t.className||"")+" rounded-pill pe-2 ps-2 p-1";return e.createElement(re,E(d({},t),{style:d(d({},xe),n),className:r}),a)},_e={background:"#0BA55D",height:"110vh"},Ne={fontSize:"3em",fontWeight:"bold",color:"white"},q=t=>e.createElement(p,{style:_e,fluid:!0},e.createElement(s,{className:"pt-5"})," ",e.createElement(s,null,e.createElement(c,{className:"text-center"},e.createElement("h1",{style:Ne},"Matchsic"))),t.children),ke=t=>{const[a,n]=u.exports.useState(t);return[a,r=>{n(E(d({},a),{[r.target.id]:r.target.value}))}]},ve="_registerLink_1fax8_1",Ce="_invalidFeedback_1fax8_15";var S={registerLink:ve,invalidFeedback:Ce};const we={userProfile:{name:"",description:"",musicGenres:[]},userSession:{username:"Lena_00",profileLink:"",profilePicture:{url:"",width:0,height:0},music:{trackName:"The Rover",authorsNames:["Led Zeppelin"],coverImage:{url:"https://extrachill.com/wp-content/uploads/2021/03/led-zeppelin-logos.jpeg",width:0,height:0},status:"stopped"},location:{coordinates:{latitude:28.47762873997604,longitude:-16.312475617040874}}},nearUsers:[],notifications:[],userIsLoggedIn:!1},O=oe({name:"matchsic",initialState:we,reducers:{sayHi(t){return console.log("Hi!"),t},loggedIn(t,a){const{username:n,name:r}=a.payload;t.userSession.username=n,t.userProfile.name=r,t.userIsLoggedIn=!0},loggedOut(t){t.userSession.username="",t.userProfile.name="",t.userIsLoggedIn=!1}}}),{sayHi:Pe,loggedIn:Ie,loggedOut:W}=O.actions;var Fe=O.reducer;const j=se({reducer:{matchsic:Fe}}),U=le.create({baseURL:"http://localhost:3000"});U.interceptors.response.use(void 0,t=>{const{response:a}=t;return a&&a.status==401&&(j.dispatch(W()),window.location.href="/"),Promise.reject(t)});const Se={users:[{username:"Lena_00",password:"1234",name:"Lena L."}]},Be=(t,a)=>new Promise((n,r)=>{setTimeout(()=>{const o=Se.users.find(m=>m.username===t&&m.password===a);if(o){const l=o,{password:m}=l,h=I(l,["password"]);n(h)}else r("Nombre de usuario o contrase\xF1a incorrectos")},500)}),Me=()=>new Promise((t,a)=>{setTimeout(()=>{t()},500)}),Le=()=>U.get("/user/data"),B={login:Be,logout:Me,getData:Le},M=()=>ie(),x=ce,Te={color:"#0BA55D",borderRadius:"100px",border:"none",width:"8em",height:"3em",fontWeight:"bold"},Re=t=>{const[a,n]=u.exports.useState(!1),[r,o]=u.exports.useState({message:"Completa este campo",fromServer:!1}),l=y(),[m,h]=ke({username:"",password:""}),G=k=>{o(E(d({},r),{fromServer:!1})),n(!1),h(k)},J=M(),Q=k=>{const X=k.target;if(k.preventDefault(),n(!0),!X.checkValidity())return;const{username:Y,password:ee}=m;B.login(Y,ee).then(P=>{J(Ie(P)),l("/home")}).catch(P=>{o({message:P,fromServer:!0})})},K=()=>{if(a&&!m.username)return"Completa este campo";if(r.fromServer&&m.usernamme)return"";if(a&&r.fromServer)return r.message};return e.createElement(q,null,e.createElement(s,{className:"pt-5"})," ",e.createElement(s,{className:"pt-5"})," ",e.createElement(s,{className:"pt-5 ps-3 pe-3"},e.createElement(c,{className:"text-center"},e.createElement(i,{onSubmit:Q,noValidate:!0},e.createElement(i.Group,{className:"mb-5",controlId:"username"},e.createElement(z,{hasValidation:!0,id:"usernameInputGroup"},e.createElement(i.Control,{required:!0,type:"text",placeholder:"Nombre de usuario",isInvalid:a&&(!m.username||r.fromServer),onChange:G}),e.createElement(i.Control.Feedback,{type:"invalid",className:S.invalidFeedback},K()))),e.createElement(i.Group,{className:"mb-5",controlId:"password"},e.createElement(z,{hasValidation:!0,id:"passwordInputGroup"},e.createElement(i.Control,{required:!0,type:"password",placeholder:"Contrase\xF1a",isInvalid:a&&!m.password,onChange:G}),e.createElement(i.Control.Feedback,{type:"invalid",className:S.invalidFeedback},"Completa este campo"))),e.createElement(b,{text:"Entrar",id:"loginButton",style:Te,type:"submit"})))),e.createElement(s,{className:"pt-5"})," ",e.createElement(s,{className:"pt-5"},e.createElement(c,{className:"text-center"},e.createElement(C,{to:"/register",className:S.registerLink},"Registrarme"))))},Ge="_Background_1lq6l_1",De="_BackgroundTopProfile_1lq6l_13",$e="_mainFrame_1lq6l_25",He="_ButtonEditProfile_1lq6l_37",ze="_MusicalRound_1lq6l_59",Ae="_ProfileCard_1lq6l_77",qe="_ProfileCardImage_1lq6l_89",Oe="_TextMuted_1lq6l_111",We="_TextBold_1lq6l_121";var L={Background:Ge,BackgroundTopProfile:De,mainFrame:$e,ButtonEditProfile:He,MusicalRound:ze,ProfileCard:Ae,ProfileCardImage:qe,TextMuted:Oe,TextBold:We};const je={width:"7rem",height:"7rem",border:"3px white solid",borderRadius:"60px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},Ue=t=>e.createElement("img",E(d({},t),{style:je})),Ve=t=>{const{music:a}=t;let n;switch(a){case"Pop":n="#D166EE";break;case"Rock":n="#3D7CC9";break;default:n="#EEC566";break}const r={backgroundColor:n,border:"2px rgb(0, 0, 0) solid",borderRadius:"15px",textAlign:"center",margin:"5px",boxShadow:"0 5px 10px 0 rgba(0, 0, 0, 0.2)"};return e.createElement(c,{style:r},a)},Ze={fontWeight:"400",color:"hsl(0, 0%, 59%)"},T={fontSize:"18px",fontWeight:"700"},Je=t=>{const{user:a}=t;return e.createElement(e.Fragment,null,e.createElement(s,{style:T},a.name),e.createElement(s,{style:Ze},a.nickname),e.createElement(s,null,a.description),e.createElement(s,{style:T},"Gustos musicales"),e.createElement(s,null,a.music.map((n,r)=>e.createElement(Ve,{music:n,key:r}))),e.createElement(s,{style:T},"Redes sociales"),e.createElement(s,null,a.social.map((n,r)=>e.createElement(c,{key:r}," ",n))))},Qe=()=>{const t={name:"Pedro Guillermo",nickname:"Mordor1110",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Incidunt a unde eum. Quaerat dolor unde saepe laudantium incidunt alias, architecto quidem fuga optio, blanditiis, tempora voluptates qui debitis veritatis hic.",music:["Rock","Metal"],social:["Twitter","Facebook","Instagram"]};return e.createElement(p,{className:L.mainFrame,fluid:!0},e.createElement(s,{className:L.BackgroundTopProfile},e.createElement(s,{className:"pt-5"}),e.createElement(s,{className:"pt-5"},e.createElement(c,{className:"ps-4"},e.createElement(Ue,{alt:"User Image",src:"https://thispersondoesnotexist.com/image"})),e.createElement(c,{className:"ps-4"},e.createElement(b,{text:"Editar Perfil",className:L.ButtonEditProfile})))),e.createElement(s,{className:"pt-5"}),e.createElement(s,{className:"pt-5"}),e.createElement(s,null,e.createElement(c,null),e.createElement(c,{xs:10},e.createElement(Je,{user:t}),e.createElement(s,{className:"pt-5"}),e.createElement(s,{className:"pt-5"})),e.createElement(c,null)))},Ke={color:"#0BA55D",borderRadius:"100px",border:"none",width:"8em",height:"3em",fontWeight:"bold"},Xe=()=>{const t=a=>{a.preventDefault(),console.log("Register form submitted")};return e.createElement(q,null,e.createElement(s,{className:"pt-5"})," ",e.createElement(s,{className:"ps-3 pe-3"},e.createElement(c,{className:"text-center"},e.createElement(i,{onSubmit:t},e.createElement(i.Group,{className:"mb-5",controlId:"name"},e.createElement(i.Control,{type:"text",placeholder:"Nombre"})),e.createElement(i.Group,{className:"mb-5",controlId:"secondName"},e.createElement(i.Control,{type:"text",placeholder:"Apellidos"})),e.createElement(i.Group,{className:"mb-5",controlId:"birthDate"},e.createElement(i.Control,{type:"date",max:"2005-17-02"})),e.createElement(i.Group,{className:"mb-5",controlId:"username"},e.createElement(i.Control,{type:"text",placeholder:"Nombre de usuario"})),e.createElement(i.Group,{className:"mb-5",controlId:"email"},e.createElement(i.Control,{type:"email",placeholder:"Correo electr\xF3nico"})),e.createElement(i.Group,{className:"mb-5",controlId:"password"},e.createElement(i.Control,{type:"password",placeholder:"Contrase\xF1a"})),e.createElement(i.Group,{className:"mb-5",controlId:"passwordConfirm"},e.createElement(i.Control,{type:"password",placeholder:"Repite la contrase\xF1a"})),e.createElement(b,{text:"Registrarme",style:Ke})))))},Ye={background:"#FFFF",bottom:0,right:0,left:0},R={background:"#5cb85c",borderRadius:50,flex:1,width:50,height:50,resizeMode:"contain"},et=()=>e.createElement(f,{className:"fixed-bottom",style:Ye},e.createElement(p,null,e.createElement(C,{to:"/home"},e.createElement(f.Brand,null,e.createElement("img",{style:R,src:"./assets/Home.svg"}))),e.createElement(C,{to:"/notifications"},e.createElement(f.Brand,null,e.createElement("img",{style:R,src:"./assets/notificacion.svg"}))),e.createElement(C,{to:"/profile"},e.createElement(f.Brand,null,e.createElement("img",{style:R,src:"./assets/Perfil.svg"}))))),tt={background:"#0BA55D"},at={color:"#FFFFFF"},nt=()=>{const[t,a]=u.exports.useState(!1),n=()=>a(!1),r=()=>a(!0),o=y(),l=M(),m=()=>{B.logout().then(()=>{l(W()),o("/login")}).catch(()=>{alert("Something went wrong!")})};return e.createElement(f,{expand:"lg",style:tt},e.createElement(p,null,e.createElement("a",{onClick:r},e.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/59/Hamburger_icon_white.svg"})),e.createElement(w,{show:t,onHide:n},e.createElement(w.Header,{closeButton:!0},e.createElement(w.Title,null,"Menu")),e.createElement(w.Body,null,"Options of menu")),e.createElement(f.Brand,{style:at,onClick:m},"Salir")))},rt=()=>{const t=y();return u.exports.useEffect(()=>{B.getData().then(a=>{}),t("/home")},[]),e.createElement(u.exports.Fragment,null,e.createElement(nt,null),e.createElement(A,null),e.createElement(et,null))},ot="_mainFrame_g0zun_1",st="_senderProfilePicture_g0zun_8",lt="_notificationPayloadText_g0zun_14",ct="_button_g0zun_18";var _={mainFrame:ot,senderProfilePicture:st,notificationPayloadText:lt,button:ct};const it=t=>{const l=t,{handleGoToMap:a}=l,n=I(l,["handleGoToMap"]),{sender:r}=t,o=()=>e.createElement("span",null,e.createElement("strong",null,e.createElement("a",{href:r.profileLink},r.username))," te ha dado un toque");return e.createElement("div",d({},n),e.createElement(s,null,e.createElement(c,{className:"col-2"}," ",e.createElement("img",{className:[_.senderProfilePicture].join(" "),src:"https://i.pinimg.com/originals/ae/ec/c2/aeecc22a67dac7987a80ac0724658493.jpg",alt:"Sender profile picture"})),e.createElement(c,{className:"ms-3 me-3"},e.createElement(s,{className:"mb-2"}," ",e.createElement(c,null,o())),e.createElement(s,null,e.createElement("span",{className:_.notificationPayloadText},t.payload)))),e.createElement(s,{className:"mt-2"},e.createElement(c,{className:"offset-2"},e.createElement(b,{className:`${_.button} border-0`,text:"Ir al mapa",onClick:a})),e.createElement(c,null,e.createElement(b,{className:`${_.button} border-0`,text:"Devolver"}))))},mt=()=>{x(o=>{var l;return(l=o.matchsic.userSession)==null?void 0:l.username});const t=M(),a=y(),n=o=>l=>{a("/home"),console.log(`Went to home and focused on ${o}`)},r=()=>[{sender:{username:"Lena_00",profileLink:"sender/profile.com"},payload:"Hola, \xBFAlguna playlist que me recomiendes?",handleGoToMap:()=>t(Pe())},{sender:{username:"Fire_21",profileLink:"sender/profile.com"},payload:"Hey, What's up?",handleGoToMap:n([28.556347,-16.336054])},{sender:{username:"Fire_21",profileLink:"sender/profile.com"},payload:"Hey, What's up?",handleGoToMap:n([28.556347,-16.336054])},{sender:{username:"Fire_21",profileLink:"sender/profile.com"},payload:"Hey, What's up?",handleGoToMap:n([28.556347,-16.336054])},{sender:{username:"Fire_21",profileLink:"sender/profile.com"},payload:"Hey, What's up?",handleGoToMap:n([28.556347,-16.336054])},{sender:{username:"Fire_21",profileLink:"sender/profile.com"},payload:"Hey, What's up?",handleGoToMap:n([28.556347,-16.336054])}].map((o,l)=>e.createElement(it,E(d({},o),{id:`notification${l}`})));return e.createElement(p,{className:`${_.mainFrame}`,fluid:!0},e.createElement(s,{className:"pt-5"}),e.createElement(s,{className:"pt-5 ps-4"},e.createElement(c,{className:"text-center col-sm-12 col-md-5 offset-sm-0 offset-md-1"},r().map(o=>e.createElement(s,{className:"mb-3",key:o.props.id},e.createElement(c,null,o))))))},ut="_map_5uvuw_3",dt="_gray_background_5uvuw_27";var V={map:ut,gray_background:dt};const pt="_controlContainer_679kk_1",gt="_controlLogo_679kk_19";var Z={controlContainer:pt,controlLogo:gt};F.exports.Control.extend({onAdd:function(t){const a=F.exports.DomUtil.create("div");a.style.backgroundColor="#fff",a.style.width="3rem",a.style.height="3rem",a.style.borderRadius="50%",a.style.display="flex",a.style.marginBottom="1rem",a.onclick=()=>{console.log("Centering");const r=x(o=>o.matchsic.userSession.location.coordinates);t.setView({lat:r.latitude,lng:r.longitude},15)};const n=F.exports.DomUtil.create("img");return n.src="./assets/locate-logo.png",a.appendChild(n),a},onRemove:function(t){}});const Et=t=>{const a=x(r=>r.matchsic.userSession.location.coordinates),n=()=>{!t.map||t.map.setView({lat:a.latitude,lng:a.longitude},15)};return e.createElement("div",{className:"leaflet-bottom leaflet-right",onClick:n},e.createElement("div",{className:"leaflet-control "+Z.controlContainer},e.createElement("img",{className:Z.controlLogo,src:"/assets/locate-logo.png"})))},ft=()=>{const t={accessToken:"pk.eyJ1IjoibW9yZG9yMTExMCIsImEiOiJja3QwNDVpaDkyc3MzMnBwbng5Zm9razA4In0.DsMnEHEZiiPkEeyfjATGwA",url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',id:"mapbox/streets-v11",maxZoom:20,tileSize:512,zoomOffset:-1},{accessToken:a,url:n,attribution:r,id:o,maxZoom:l,tileSize:m,zoomOffset:h}=t;return e.createElement(me,{accessToken:a,url:n,id:o,maxZoom:l,tileSize:m,zoomOffset:h})},ht="_userIcon_7qv2z_1";var yt={userIcon:ht};const bt="_popupContainer_7ne7u_1",xt="_coverImage_7ne7u_11",_t="_username_7ne7u_23",Nt="_listeningTag_7ne7u_33",kt="_trackContent_7ne7u_43";var N={popupContainer:bt,coverImage:xt,username:_t,listeningTag:Nt,trackContent:kt};const vt=t=>`${Math.min(15,t.length*.8).toFixed(2)}rem`,Ct=t=>{const{username:a,music:n}=t.user,r=`${n.trackName}, ${n.authorsNames.join(", ")}`,o=vt(r);return e.createElement(ue,null,e.createElement(p,{className:"p-0 "+N.popupContainer,style:{width:o}},e.createElement(s,null,e.createElement(c,{className:"mb-2"},e.createElement("span",{className:"h6 "+N.username},a))),e.createElement(s,null,e.createElement(c,{className:"p-0",xs:3},e.createElement("img",{className:N.coverImage,src:n.coverImage.url})),e.createElement(c,{className:"p-0",xs:9},e.createElement(s,null,e.createElement(c,null,e.createElement("span",{className:N.listeningTag},"Escuchando:"))),e.createElement(s,null,e.createElement(c,null,e.createElement("span",{className:N.trackContent},n.trackName,", ",n.authorsNames.join(", "))))))))},wt=t=>{const{location:a,music:n}=t.user,r=de.icon({iconUrl:n.coverImage.url,iconSize:[55,55],iconAnchor:[27,27],className:yt.userIcon}),o=[a.coordinates.latitude,a.coordinates.longitude];return e.createElement(pe,{icon:r,position:o},e.createElement(Ct,{user:t.user}))},Pt=()=>{let t=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${t}px`);const{userSession:a}=x(o=>o.matchsic),[n,r]=u.exports.useState(null);return e.createElement(p,{fluid:!0},e.createElement(s,null,e.createElement(c,{className:"text-center "+V.gray_background},e.createElement(ge,{center:[28.47762873997604,-16.312475617040874],zoom:13,scrollWheelZoom:!0,className:V.map,whenCreated:o=>r(o)},e.createElement(ft,null),e.createElement(wt,{user:a}),e.createElement(Et,{map:n})))))},It=()=>{const t=y();return u.exports.useEffect(()=>{t("/login")},[]),e.createElement(u.exports.Fragment,null,e.createElement(A,null))};function Ft(){const t=x(r=>r.matchsic.userIsLoggedIn),a=e.createElement(Re,null),n=e.createElement(Xe,null);return e.createElement(Ee,null,t?e.createElement(u.exports.Fragment,null,e.createElement(g,{path:"/",element:e.createElement(rt,null)},e.createElement(g,{path:"/home",element:e.createElement(Pt,null)}),e.createElement(g,{path:"/profile",element:e.createElement(Qe,null)}),e.createElement(g,{path:"/notifications",element:e.createElement(mt,null)}))):e.createElement(u.exports.Fragment,null,e.createElement(g,{path:"/",element:e.createElement(It,null)},e.createElement(g,{path:"/login",element:a}),e.createElement(g,{path:"/register",element:n}))))}fe.render(e.createElement(e.StrictMode,null,e.createElement(he,null,e.createElement(ye,{store:j},e.createElement(Ft,null)))),document.getElementById("root"));
